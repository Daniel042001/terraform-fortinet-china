Content-Type: multipart/mixed; boundary="==AWS=="
MIME-Version: 1.0

--==AWS==
Content-Type: text/x-shellscript; charset="us-ascii"
MIME-Version: 1.0

config system global
set hostname ${fgtConfHostname}
set admin-sport ${adminsPort}
set timezone 55
set admintimeout 120
end
config router static
edit 1
set gateway ${fgtConfPort1GW}
set device port1
next
end
config system interface
edit port1
set alias public
set role wan
set mode static
set ip ${eniIpFgtPublic} ${fgtConfPort1Mask}
set allowaccess ping https ssh fgfm
next
edit port2
set alias private
set role lan
set mode static
set ip ${eniIpFgtPrivate} ${fgtConfPort2Mask}
set allowaccess ping https ssh fgfm
set defaultgw disable
next
end
config firewall policy
edit 1
set srcintf "port2"
set dstintf "port1"
set srcaddr "all"
set dstaddr "all"
set action accept
set schedule "always"
set service "ALL"
set nat enable
next
end

%{ if licenseType == "byol" }
--==AWS==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename="license"

${file(licenseFile)}

%{ endif }
--==AWS==--
